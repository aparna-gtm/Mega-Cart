<% layout("layouts/boilerPlate.ejs") %>
  <%- include('../partials/navbar'); %>

    <!DOCTYPE html>
    <html lang="en">

    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Add New Product</title>
      <style>
        body {
          padding-top: 70px;
          /* Prevent overlap with fixed navbar */
        }
      </style>
    </head>

    <body>

      <div class="container mt-5">
        <div class="row justify-content-center">
          <div class="col-md-6">
            <div class="card shadow">
              <div class="card-body">
                <h3 class="card-title text-center mb-4">Add a New Product</h3>
                <form action="/products" method="POST" class="needs-validation" novalidate>
                  <div class="mb-3">
                    <label for="naam" class="form-label">Name:</label>
                    <input type="text" class="form-control" name="name" id="naam" placeholder="Name of the product"
                      required>
                    <div class="valid-feedback">
                      Looks good!
                    </div>
                    <div class="invalid-feedback">
                      Please choose a name.
                    </div>

                  </div>
                  <div class="mb-3">
                    <label for="img" class="form-label">Image URL:</label>
                    <input type="text" class="form-control" name="img" id="img" placeholder="Image URL of the product"
                      required>
                      <div class="valid-feedback">
                      Looks good!
                    </div>
                    <div class="invalid-feedback">
                      Please enter image URL.
                    </div>
                  </div>
                  <div class="mb-3">
                    <label for="paisa" class="form-label">Price:</label>
                    <input type="number" class="form-control" name="price" id="paisa"
                      placeholder="Enter price of the product" required>
                      <div class="valid-feedback">
                      Looks good!
                    </div>
                    <div class="invalid-feedback">
                      Please enter the price.
                    </div>
                  </div>
                  <div class="mb-3">
                    <label for="parichay" class="form-label">Description:</label>
                    <textarea name="des" id="parichay" rows="4" class="form-control"
                      placeholder="Description of the product" required></textarea>
                      <div class="valid-feedback">
                      Looks good!
                      </div>
                      <div class="invalid-feedback">
                      Please add some description.  
                      <!-- // in sabke liye novalidatelaagana padega form m -->
                    </div>
                  </div>
                  <div class="d-grid">
                    <button class="btn btn-success" type="submit">Add Product</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Script moved to bottom -->
      <script>
        // iife-immediatley invoked function expression
        (function () {
          'use strict'
          var forms = document.querySelectorAll('.needs-validation')
          Array.prototype.slice.call(forms).forEach(function (form) {
            form.addEventListener('submit', function (event) {
              if (!form.checkValidity()) {
                event.preventDefault()
                event.stopPropagation()
              }
              form.classList.add('was-validated')
            }, false)
          })
        })()
      </script>

    </body>

    </html>